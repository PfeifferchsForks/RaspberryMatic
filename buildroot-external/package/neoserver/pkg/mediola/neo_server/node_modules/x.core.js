var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var h=a.length,d=0;d<h;d++){var g=a[d];if(c.call(b,g,d,a))return{i:d,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(a==Array.prototype||a==Object.prototype)return a;a[c]=b.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<a.length;++c){var b=a[c];if(b&&b.Math==Math)return b}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,c){var b=$jscomp.propertyToPolyfillSymbol[c];if(null==b)return a[c];b=a[b];return void 0!==b?b:a[c]};
$jscomp.polyfill=function(a,c,b,h){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,c,b,h):$jscomp.polyfillUnisolated(a,c,b,h))};$jscomp.polyfillUnisolated=function(a,c,b,h){b=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var d=a[h];if(!(d in b))return;b=b[d]}a=a[a.length-1];h=b[a];c=c(h);c!=h&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(a,c,b,h){var d=a.split(".");a=1===d.length;h=d[0];h=!a&&h in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var g=0;g<d.length-1;g++){var e=d[g];if(!(e in h))return;h=h[e]}d=d[d.length-1];b=$jscomp.IS_SYMBOL_NATIVE&&"es6"===b?h[d]:null;c=c(b);null!=c&&(a?$jscomp.defineProperty($jscomp.polyfills,d,{configurable:!0,writable:!0,value:c}):c!==b&&(void 0===$jscomp.propertyToPolyfillSymbol[d]&&(b=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[d]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(d):$jscomp.POLYFILL_PREFIX+b+"$"+d),$jscomp.defineProperty(h,$jscomp.propertyToPolyfillSymbol[d],{configurable:!0,writable:!0,value:c})))};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(c,b){return $jscomp.findInternal(this,c,b).v}},"es6","es3");require("./x.nodeext.js");
var XCXMLNode=function(a,c,b,h){this._name=a;this._attributes=c;this._parent=b;this._value=h;this._children=[];XCXMLNode.prototype.addChild=function(d){this._children.push(d)};XCXMLNode.prototype.getParent=function(){return this._parent};XCXMLNode.prototype.prop=function(d){return"tagName"==d?this._name:null};XCXMLNode.prototype.text=function(){return this._unescapeXml(this._value)};XCXMLNode.prototype.getAttributes=function(){return this._attributes};XCXMLNode.prototype.children=function(){var d=
this._children;d.each=function(g){for(var e=0;e<d.length;e++)g.call(d[e])};return d};XCXMLNode.prototype.attr=function(d,g){null!=g&&(this._attributes[d]=g);return this._attributes[d]};XCXMLNode.prototype.attr2=function(d){var g;if((g=this.attr(d))&&""!=g&&"null"!=g)return g};XCXMLNode.prototype.find=function(d,g){null==g&&(g=[],g.each=function(t){for(var p=0;p<g.length;p++)t.call(g[p])});d=d.trim();d=d.replace(/\\./g,".");var e=d.indexOf(" ",0),f=d.indexOf("[",0),l=d,k=null,m=null;if(-1!=e||-1!=
f)if(-1==f||-1<e&&e<f)k=d.substring(e+1).trim(),l=d.substring(0,e);else if(-1==e||-1<f&&f<e)e=d.indexOf("]",f),-1!=e&&(k=d.substring(e+1).trim(),l=d.substring(0,f),e=d.substring(f+1,e).trim().split("="),2==e.length&&(m={},m.id=e[0].trim(),m.value=e[1].replace(/'/g,"").replace(/"/g,"").trim()));if(null==this._parent){var n=this._name;n&&(e=n.indexOf(":"),0<e&&(n=n.substr(e+1)),n==l&&(e=!0,m&&(e=!1,this.getAttributes()[m.id]==m.value&&(e=!0)),e&&(k?this.find(k,g):g.push(this))))}if(0<this._children.length)for(f=
0;f<this._children.length;f++)n=this._children[f]._name,e=n.indexOf(":"),0<e&&(n=n.substr(e+1)),n==l&&(e=!0,m&&(e=!1,this._children[f].getAttributes()[m.id]==m.value&&(e=!0)),e&&(k?this._children[f].find(k,g):g.push(this._children[f]))),this._children[f].find(d,g);return g};XCXMLNode.prototype.getXMLString=function(){return this._getXMLString(0)};XCXMLNode.prototype._getXMLString=function(d){for(var g="",e=0;e<d;e++)g+="  ";var f=g+"<"+this._name;if(this._attributes)for(var l in this._attributes)f+=
" "+l+'="'+this._attributes[l]+'"';if(0<this._children.length){f+=">\r\n";for(e=0;e<this._children.length;e++)f+=this._children[e]._getXMLString(d+1);f+=g+"</"+this._name+">\r\n"}else f=null!=this._value?f+(">"+this._value+"</"+this._name+">\r\n"):f+"/>\r\n";return f};XCXMLNode.prototype.XML_CHAR_MAP={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};XCXMLNode.prototype._escapeXml=function(d){return d.replace(/[<>&"']/g,function(g){return x.xmlrpc.XML_CHAR_MAP[g]})};XCXMLNode.prototype._unescapeXml=
function(d){if(!d)return d;d=d.replace(/&lt;/g,"<");d=d.replace(/&gt;/g,">");d=d.replace(/&amp;/g,"&");d=d.replace(/&quot;/g,'"');return d=d.replace(/&apos;/g,"'")}},XCXMLDocument=function(a,c){this._XMLString=null;a&&(this._XMLString=a.trim());this._rootNode=null;this._XMLHead='<?xml version="1.0" encoding="UTF-8" ?>';a=-1;null!=this._XMLString&&5<this._XMLString.length&&("<?xml"==this._XMLString.substring(0,5)&&(a=this._XMLString.indexOf(">",0),this._XMLHead=this._XMLString.substring(0,a+1)),a=
this._XMLString.indexOf("<",a));if(-1<a){var b=null;try{require("sax")&&(b=require("sax"))}catch(g){b=null}if(c||null==b)this._rootNode=this._parseNode(a,[],null);else{c=b.parser(!0);var h=null,d=this;c.ontext=function(g){h&&(h._value=g)};c.onopentag=function(g){g=new XCXMLNode(g.name,g.attributes,h,null);h&&h._children.push(g);h=g;d._rootNode||(d._rootNode=h)};c.onclosetag=function(g){h&&(h=h._parent)};c.write(this._XMLString.substr(a)).close()}}else this._rootNode=new XCXMLNode;this._XMLString=
null};XCXMLDocument.prototype.getRootNode=function(){return this._rootNode};XCXMLDocument.prototype.getXMLString=function(){var a=this._XMLHead+"\r\n";this._rootNode&&(a+=this._rootNode.getXMLString());return a};XCXMLDocument.prototype.find=function(a,c){return this._rootNode.find(a,c)};XCXMLDocument.prototype.attr=function(a,c){return this._rootNode.attr(a,c)};XCXMLDocument.prototype.children=function(){return[this._rootNode]};
XCXMLDocument.prototype._parseAttributes=function(a,c){var b=this._XMLString.indexOf("=",a),h=this._XMLString.indexOf(">",a);if(-1<b&&b<h){a=this._XMLString.substring(a+1,b).trim();h='"';var d=this._XMLString.indexOf('"',b);-1==d&&(h="'",d=this._XMLString.indexOf("'",b));b=d;if(-1<b&&(h=this._XMLString.indexOf(h,b+1),-1<h))return b=this._XMLString.substring(b+1,h),c[a]=b,h+1}return-1};
XCXMLDocument.prototype._parseNode=function(a,c,b){for(var h=null,d=!0;d;){d=!1;var g=null,e=c.length;if(!this._XMLString)return null;var f=this._XMLString.indexOf(" ",a),l=this._XMLString.indexOf(">",a),k=null,m=null,n={};if(-1<f&&f<l){if(k=this._XMLString.substring(a+1,f),"!--"!=k){for(l=this._parseAttributes(f,n);-1!=l;)f=l,l=this._parseAttributes(f,n);f=this._XMLString.indexOf(">",f)}}else-1<l&&(f=l,k=this._XMLString.substring(a+1,l));l=this._XMLString.indexOf("<",f);-1<f&&-1<l&&l>f+1&&(l=this._XMLString.substring(f+
1,l).trim(),0<l.length&&">"!=l[0]&&(m=l));f=this._XMLString.indexOf(">",f);if(-1!=f){if(null!=k)if("/"!=this._XMLString.charAt(f-1)&&"/"!=k.charAt(0)&&c.push(k),"/"==k.charAt(0)){if(k=k.substring(1),a=c.pop(),!(k==a||k&&a&&k.trim()==a.trim()))return console.log("INVALID XML ("+k+"<->"+a+")!!!"),null}else k=k.replace("/",""),g=new XCXMLNode(k,n,b,m),h||(h=g),null!=b&&b.addChild(g);a=this._XMLString.indexOf("<",f);-1<a&&(c.length<e?this._parseNode(a,c,b.getParent()):c.length==e?this._parseNode(a,c,
b):(b=g,d=!0))}}return h};var XCLogWriter=function(){};XCLogWriter.prototype.writeConsole=function(a){console.log(a)};XCLogWriter.prototype.writeFile=function(a,c,b){var h=this,d=require("fs");d.exists(c,function(g){g?d.stat(c,function(e,f){!e&&f&&(f.size/1024>=b?h._copyFile(c,c+".1",function(){d.writeFile(c,a+"\n",function(l){})}):d.appendFile(c,a+"\n",function(l){}))}):d.writeFile(c,a+"\n",function(e){})})};
XCLogWriter.prototype._copyFile=function(a,c,b){require("child_process").execFile("/bin/cp",["--no-target-directory",a,c],function(h){b&&b(h)})};XC=new function(){};XC.debugf=function(a){var c=null;try{var b=require("x.logger.js");b&&(c=b.getLogger("x.core.debugf"),c.log("trace",a))}catch(h){c=null}c||console.log(a)};XC.getHexVal=function(a,c){for(a=a.toString(16).toUpperCase();a.length<c;)a="0"+a;return a};
XC.getBytes=function(a,c){var b=[],h=a.length;if(c)for(c=0;c<h;c+=2)b.push(parseInt(a.substr(c,2),16));else for(c=0;c<h;c++)b.push(a.charCodeAt(c));return b};XC.createObject=function(a){switch(a){case "x.logger.writer":return new XCLogWriter}return null};
dateFormat=function(a){function c(e,f){e=String(e);for(f=f||2;e.length<f;)e="0"+e;return e}function b(e){e=new Date(e.getFullYear(),e.getMonth(),e.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var f=new Date(e.getFullYear(),0,4);f.setDate(f.getDate()-(f.getDay()+6)%7+3);var l=e.getTimezoneOffset()-f.getTimezoneOffset();e.setHours(e.getHours()-l);return 1+Math.floor((e-f)/6048E5)}function h(e){e=e.getDay();0===e&&(e=7);return e}function d(e){return null===e?"null":void 0===e?"undefined":"object"!==
typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var g=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,f=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g;return function(k,m,n,t){1!==arguments.length||"string"!==d(k)||/\d/.test(k)||(m=k,k=void 0);k=k||new Date;k instanceof Date||(k=new Date(k));if(isNaN(k))throw TypeError("Invalid date");
m=String(g.masks[m]||m||g.masks["default"]);var p=m.slice(0,4);if("UTC:"===p||"GMT:"===p)m=m.slice(4),n=!0,"GMT:"===p&&(t=!0);var q=n?"getUTC":"get";p=k[q+"Date"]();var y=k[q+"Day"](),u=k[q+"Month"](),z=k[q+"FullYear"](),r=k[q+"Hours"](),A=k[q+"Minutes"](),B=k[q+"Seconds"]();q=k[q+"Milliseconds"]();var w=n?0:k.getTimezoneOffset(),D=b(k),E=h(k),C={d:p,dd:c(p),ddd:g.i18n.dayNames[y],dddd:g.i18n.dayNames[y+7],m:u+1,mm:c(u+1),mmm:g.i18n.monthNames[u],mmmm:g.i18n.monthNames[u+12],yy:String(z).slice(2),
yyyy:z,h:r%12||12,hh:c(r%12||12),H:r,HH:c(r),M:A,MM:c(A),s:B,ss:c(B),l:c(q,3),L:c(Math.round(q/10)),t:12>r?"a":"p",tt:12>r?"am":"pm",T:12>r?"A":"P",TT:12>r?"AM":"PM",Z:t?"GMT":n?"UTC":(String(k).match(f)||[""]).pop().replace(l,""),o:(0<w?"-":"+")+c(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][3<p%10?0:(10!=p%100-p%10)*p%10],W:D,N:E};return m.replace(e,function(v){return v in C?C[v]:v.slice(1,v.length-1)})}}();g.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",
mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};g.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
return g}(this);"undefined"==typeof window&&(window={XCHost:{}},window.XCHost.getType=function(){return"node-webkit"},window.XCHost.getVersion=function(){return"1.0"},window.XC_Text={});$=function(a){return a};$.parseXML=function(a){if("string"!==typeof a||!a)return new XCXMLDocument;var c=null;try{c=new XCXMLDocument(a)}catch(b){c=new XCXMLDocument,XC.debugf("failed to parse XML")}return c};$.parseJSON=function(a){try{return JSON.parse(a)}catch(c){}return null};
$.ajax=function(a){var c=require("url").parse(a.url),b={host:c.hostname,port:c.port,path:c.path,method:"GET"},h="string";a.dataType&&(h=a.dataType);a.method&&(b.method=a.method);a.type&&(b.method=a.type);a.headers&&(b.headers=a.headers);if(a.username||a.password)b.auth=(a.username?a.username:"")+":"+(a.password?a.password:"");a.timeout&&(b.timeout=a.timeout);if(a.data)if("object"==typeof a.data){b.headers||(b.headers={});var d=require("querystring").stringify(a.data,null,null,{encodeURIComponent:encodeURI});
b.headers["Content-Type"]="application/x-www-form-urlencoded";"POST"==b.method||"PUT"==b.method?b.headers["Content-Length"]=d.length:"GET"==b.method&&(b.path=b.path+"?"+d)}else"string"==typeof a.data&&(b.headers||(b.headers={}),"POST"==b.method||"PUT"==b.method)&&(b.headers["Content-Length"]=Buffer.byteLength(a.data,"utf8"));a.contentType&&(b.headers||(b.headers={}),b.headers["Content-Type"]=a.contentType);a.complete&&(a.error=a.complete);var g=require("http");"https:"==c.protocol&&(g=require("https"),
process&&process.env&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),b.port||(b.port=443));var e=g.request(b,function(f){if(a.statusCode&&a.statusCode[f.statusCode])a.statusCode[f.statusCode]();var l="";f.on("data",function(k){l+=k});f.on("end",function(){var k={getAllResponseHeaders:function(){return f.headers},getResponseHeader:function(m){return f.headers[m]}};if(200==f.statusCode)if(a.complete)a.complete({responseText:l});else{if(a.success){if("json"==h)try{l=JSON.parse(l)}catch(m){a.error&&a.error({status:f.statusCode,
responseText:l},"error","json parse error");a.error=void 0;return}a.success(l,"200",k)}}else a.error&&a.error({status:f.statusCode,responseText:l},"error",l),a.error=void 0})});e.on("error",function(f){a.error&&a.error(null,f.message);a.error=void 0});a.timeout&&e.setTimeout(a.timeout,function(){e.abort();a.error&&a.error(null,"timeout");a.error=void 0});a.data&&"get"!=b.method.toLowerCase()&&"delete"!=b.method.toLowerCase()&&("string"==typeof a.data||a.data instanceof Buffer?e.write(a.data):"object"==
typeof a.data?d&&e.write(d):e.write(a.data));e.end()};$.trim=function(a){return a.trim()};
