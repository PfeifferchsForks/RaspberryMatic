var x=x||{};x.hub=x.hub||{};x.hub.m=x.hub.m||{};x.hub.m.fritz=x.hub.m.fritz||{};x.hub.m.fritz.FRITZ_MODULE=require("xnm.aio.fritz.js");
x.hub.m.fritz.Handler=function(){var g=function(){};g.prototype.init=function(b){b&&b()};g.prototype.getSystems=function(){return["fritz"]};g.prototype.executeCommandV6=function(b,a,d,e){if(a=x.hub.m.fritz.FRITZ_MODULE.resolveGateway({sys:"fritz",ip:a?a.address:null,username:a?a.user:null,password:a?a.pwd:null})){var c={sys:"fritz",address:b?b.address:null,data:b?b.type:null};b&&"heater"==b.type&&(c.data="hkr");b={value:null,ext:null};switch(d.command){case "on":case "off":case "toggle":b.value=d.command;
break;case "temperature":b.value="temp",b.ext=d.value}a.executeCommandCreator(c,b,function(f){f&&(f.code="000000");e&&e(f)})}else d=Error("invalid gateway json"),d.code="000000",e&&e(d)};g.prototype.getStatesV6=function(b,a,d){var e=b?b.address:null;e?(a=x.hub.m.fritz.FRITZ_MODULE.resolveGateway({sys:"fritz",ip:a?a.address:null,username:a?a.user:null,password:a?a.pwd:null}))?a.getStates(function(c,f){c?d&&d(c):(c={},f&&f[e]&&("heater"==b.type?(c.state=f[e].temp,7.5==c.state?c.state="off":28.5==c.state&&
(c.state="on"),c.temperature=f[e].tempC,"undefined"!=typeof f[e].battery&&null!=tates[e].battery&&"inval"!=tates[e].battery&&(c.battery=f[e].battery)):(c.state=f[e].state,c.power=f[e].current)),d&&d(null,c))}):(a=Error("invalid gateway json"),a.code="000000",d&&d(a)):(a=Error("invalid device json"),a.code="000000",d&&d(a))};return g}();"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=new x.hub.m.fritz.Handler);
